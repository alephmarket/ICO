!function($){"use strict";var $window=$(window),windowHeight=$window.height();$window.resize(function(){windowHeight=$window.height()}),$.fn.parallax=function(xpos,speedFactor,outerHeight,scrollSource){function update(){var pos=scrollSource.scrollTop();$this.each(function(){if(!$(this).hasClass("background-motion-parallax"))return!1;var $element=$(this),top=scrollSource==$window?$element.offset().top:$element.offset(scrollSource).top,height=getHeight($element);top+height<pos||top>pos+(customSource?scrollSource.height():windowHeight)||$this.css("backgroundPosition",xpos+" "+Math.round((firstTop-pos-adminBarOffset)*speedFactor)+"px")})}var getHeight,firstTop,adminBarOffset,$this=$(this),customSource=!1;return scrollSource?customSource=!0:scrollSource=$window,$this.addClass("background-motion-parallax"),$this.each(function(){firstTop=$this.offset().top}),getHeight=outerHeight?function(jqo){return jqo.outerHeight(!0)}:function(jqo){return jqo.height()},(arguments.length<1||null===xpos)&&(xpos="50%"),(arguments.length<2||null===speedFactor)&&(speedFactor=.1),(arguments.length<3||null===outerHeight)&&(outerHeight=!0),$.fn.parallax.destroy=function(){scrollSource.unbind("scroll",update),scrollSource.unbind("resize",update)},scrollSource.bind("scroll",update).resize(update),setTimeout(function(){adminBarOffset=1==$("#wpadminbar").length?32:0,update()},250),this}}(jQuery);