!function($){"use strict";var $window=$(window),windowHeight=$window.height();$window.resize(function(){windowHeight=$window.height()}),$.fn.parallaxOpacity=function(options,outerHeight){function update(){var pos=$window.scrollTop();$this.each(function(){var $element=$(this),top=$element.offset().top,height=getHeight($element);if(!(top+height<pos||top>pos+windowHeight)){var r=pos/height<1?pos/height:1;$target.css("opacity",opacity-r*speed)}})}var getHeight,firstTop,$this=$(this),$target=$this,opacity=1,speed=.1;options.target&&($target=$(options.target)),$this.each(function(){firstTop=$this.offset().top}),getHeight=outerHeight?function(jqo){return jqo.outerHeight(!0)}:function(jqo){return jqo.height()},speed=options.speed||speed,(arguments.length<2||null===outerHeight)&&(outerHeight=!0),$window.bind("scroll.ptParallax",update).resize(update),update()}}(jQuery);