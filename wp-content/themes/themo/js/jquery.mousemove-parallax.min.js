!function($){$.fn.mousemoveparallax=function(options){var defaults={speed:.1},settings=$.extend({},defaults,options);return this.each(function(){var $this=$(this),offset=$this.offset(),bgWidth=$this.data("background-width"),bgHeight=$this.data("background-height"),bgRatio=bgHeight/bgWidth,newBgWidth=$this.outerWidth()*(1+Math.abs(settings.speed)),newBgHeight=newBgWidth*bgRatio,isEnter=!1,initBg=function(){newBgWidth=$this.outerWidth()*(1+parseFloat(settings.speed)),newBgHeight=newBgWidth*bgRatio,$this.css({backgroundPosition:"50% 50%",backgroundSize:newBgWidth+"px "+newBgHeight+"px "})};initBg(),$this.on("mouseenter",function(e){isEnter=!0;var posX=(e.pageX-offset.left-$this.outerWidth()/2)*settings.speed,posY=(e.pageY-offset.top-$this.outerHeight()/2)*settings.speed,bgPosX=-(newBgWidth-$this.outerWidth())/2-posX,bgPosY=-(newBgHeight-$this.outerHeight())/2-posY;TweenMax.to($this,.5,{backgroundPosition:bgPosX+"px "+bgPosY+"px",onComplete:function(){isEnter=!1}})}),$this.on("mousemove",function(e){if($(window).width()>991){var posX=(e.pageX-offset.left-$this.outerWidth()/2)*settings.speed,posY=(e.pageY-offset.top-$this.outerHeight()/2)*settings.speed,bgPosX=-(newBgWidth-$this.outerWidth())/2-posX,bgPosY=-(newBgHeight-$this.outerHeight())/2-posY;isEnter||TweenMax.to($this,.5,{backgroundPosition:bgPosX+"px "+bgPosY+"px"})}}),$(window).on("resize",function(){initBg()})})}}(jQuery);