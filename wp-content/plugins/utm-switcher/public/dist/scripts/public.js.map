{"version":3,"sources":["../public/assets/js/public.js"],"names":["$","Utm_Switcher","Utm_UTIL","common","init","parsedQuery","queryString","utm_source","utm_medium","utm_campaign","document","cookie","populateFormValues","indexOf","isArray","utm_switchers","i","j","length","switcher","markup","match_element","html","switchers","campaign_source","getCookieValue","switcher_type","replace_value","replaceWith","fire","func","funcname","args","namespace","loadEvents","each","body","className","replace","split","classnm","obj","constructor","Array","query_string","query","window","location","search","substring","vars","pair","arr","push","a","b","match","pop","getElementsByClassName","applyFormValues","elements","value","ready","jQuery"],"mappings":"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","file":"public.js","sourcesContent":["(function ($) {\r\n    'use strict';\r\n    $(function () {\r\n        /* ========================================================================\r\n         * DOM-based Routing\r\n         * Based on http://goo.gl/EUTi53 by Paul Irish\r\n         *\r\n         * Only fires on body classes that match. If a body class contains a dash,\r\n         * replace the dash with an underscore when adding it to the object below.\r\n         *\r\n         * .noConflict()\r\n         * The routing is enclosed within an anonymous function so that you can\r\n         * always reference jQuery with $, even when in .noConflict() mode.\r\n         * ========================================================================\r\n         */\r\n        var Utm_Switcher, Utm_UTIL;\r\n        Utm_Switcher = {\r\n            common: {\r\n                init: function () {\r\n                    var parsedQuery = Utm_UTIL.queryString();\r\n                    \r\n                    //CF7 Hidden input value replacement\r\n                    if (parsedQuery.utm_source || parsedQuery.utm_medium || parsedQuery.utm_campaign) {\r\n                        if (parsedQuery.utm_source) {\r\n                            document.cookie = 'utmfieldsource=' + parsedQuery.utm_source;\r\n                        }\r\n                        if (parsedQuery.utm_medium) {\r\n                            document.cookie = 'utmfieldmedium=' + parsedQuery.utm_medium;\r\n                        }\r\n                        if (parsedQuery.utm_campaign) {\r\n                            document.cookie = 'utmfieldcampaign=' + parsedQuery.utm_campaign;\r\n                        }\r\n\r\n                        Utm_UTIL.populateFormValues(parsedQuery);\r\n                    } else if (document.cookie.indexOf(\"utmfieldsource\") >= 0 || document.cookie.indexOf(\"utmfieldmedium\") >= 0 || document.cookie.indexOf(\"utmfieldcampaign\") >= 0) {\r\n                        Utm_UTIL.populateFormValues(parsedQuery);\r\n                    }\r\n\r\n\r\n                    if (!Utm_UTIL.isArray(utm_switchers)) {\r\n                        return false;\r\n                    }\r\n                    \r\n                    //Value replacement based on utm_source\r\n                    if (('utm_source' in parsedQuery) || ( document.cookie.indexOf(\"utmfieldsource\") >= 0 ) ) {\r\n                        \r\n                       var i,j;\r\n                       for (i = 0; i < utm_switchers.length; ++i) {         \r\n                            var switcher = utm_switchers[i], markup = $(switcher.match_element).html();\r\n                              //Name this loop \r\n                              switchersSubLoop:\r\n                              for (j = 0; j < switcher.switchers.length; ++j) {\r\n                                \r\n                                if ( (switcher.switchers[j].campaign_source !== parsedQuery.utm_source) && (switcher.switchers[j].campaign_source !== Utm_UTIL.getCookieValue('utmfieldsource')) ) {\r\n                                    continue switchersSubLoop;\r\n                                }\r\n                                if (switcher.switcher_type === 'phone') {\r\n                                    markup = '<a href=\"tel:' + switcher.switchers[j].replace_value + '\" class=\"phone-number\">' + switcher.switchers[j].replace_value + '</a>';\r\n                                    $(switcher.match_element).replaceWith(markup);\r\n                                } else {\r\n                                    markup = switcher.switchers[j].replace_value;\r\n                                    $(switcher.match_element).html(markup);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        Utm_UTIL = {\r\n            fire: function (func, funcname, args) {\r\n                var namespace;\r\n                namespace = Utm_Switcher;\r\n                funcname = funcname === void 0 ? 'init' : funcname;\r\n                if (func !== '' && namespace[func] && typeof namespace[func][funcname] === 'function') {\r\n                    namespace[func][funcname](args);\r\n                }\r\n            },\r\n            loadEvents: function () {\r\n                Utm_UTIL.fire('common');\r\n                $.each(document.body.className.replace(/-/g, '_').split(/\\s+/), function (i, classnm) {\r\n                    Utm_UTIL.fire(classnm);\r\n                });\r\n            },\r\n            isArray: function (obj) {\r\n                return (typeof obj !== 'undefined' &&\r\n                        obj && obj.constructor === Array);\r\n            },\r\n            queryString: function(){\r\n                var query_string = {};\r\n                var query = window.location.search.substring(1);\r\n                var vars = query.split(\"&\");\r\n                for (var i = 0; i < vars.length; i++) {\r\n                    var pair = vars[i].split(\"=\");\r\n                    // If first entry with this name\r\n                    if (typeof query_string[pair[0]] === \"undefined\") {\r\n                        query_string[pair[0]] = pair[1];\r\n                        // If second entry with this name\r\n                    } else if (typeof query_string[pair[0]] === \"string\") {\r\n                        var arr = [query_string[pair[0]], pair[1]];\r\n                        query_string[pair[0]] = arr;\r\n                        // If third or later entry with this name\r\n                    } else {\r\n                        query_string[pair[0]].push(pair[1]);\r\n                    }\r\n                }\r\n                return query_string;  \r\n            },\r\n            getCookieValue: function (a, b) {\r\n                b = document.cookie.match('(^|;)\\\\s*' + a + '\\\\s*=\\\\s*([^;]+)');\r\n                return b ? b.pop() : '';\r\n            },\r\n            populateFormValues: function (parsedQuery) {\r\n                \r\n                if ((document.cookie.indexOf(\"utmfieldsource\") >= 0 || parsedQuery.utm_source) && document.getElementsByClassName(\"utm-field-source\")[0]) {\r\n                    Utm_UTIL.applyFormValues(document.getElementsByClassName(\"utm-field-source\"), Utm_UTIL.getCookieValue('utmfieldsource'));\r\n                }\r\n                if ((document.cookie.indexOf(\"utmfieldmedium\") >= 0 || parsedQuery.utm_medium) && document.getElementsByClassName(\"utm-field-medium\")[0]) {\r\n                    Utm_UTIL.applyFormValues(document.getElementsByClassName(\"utm-field-medium\"), Utm_UTIL.getCookieValue('utmfieldmedium'));\r\n\r\n                }\r\n                if ((document.cookie.indexOf(\"utmfieldcampaign\") >= 0 || parsedQuery.utm_campaign) && document.getElementsByClassName(\"utm-field-campaign\")[0]) {\r\n                    Utm_UTIL.applyFormValues(document.getElementsByClassName(\"utm-field-campaign\"), Utm_UTIL.getCookieValue('utmfieldcampaign'));\r\n                }\r\n            },\r\n            applyFormValues : function(elements, value){\r\n                elements = elements || {};\r\n                for (var i = 0; i < elements.length; i++) {\r\n                    elements[i].value = value;\r\n                }\r\n            }\r\n        };\r\n        $(document).ready(Utm_UTIL.loadEvents);\r\n    });\r\n})(jQuery);\r\n"],"sourceRoot":"assets/scripts/"}